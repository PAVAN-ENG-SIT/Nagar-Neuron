Build a complete React Native Expo mobile app for Android called NagarNeuron - an AI-powered civic complaint management platform. This is for a hackathon demo, so focus on core functionality that works immediately.

PROJECT STRUCTURE:
Create a single full-stack project with:
- /backend folder: FastAPI Python server
- /mobile folder: React Native Expo app
- Root level: configuration files

BACKEND (FastAPI - Port 8000):

File: backend/main.py
- FastAPI app with CORS enabled for all origins
- POST /api/upload-complaint: Accept image file (multipart/form-data), extract GPS from EXIF using piexif library (default to Bangalore 12.9716,77.5946 if no GPS), convert image to base64 string for storage, call Hugging Face Inference API "Salesforce/blip-image-captioning-large" with Authorization header using HF_TOKEN from environment, parse AI response to get image caption, classify into categories using keyword matching (pothole: hole/crack/road/damage, garbage: trash/waste/litter, streetlight: light/lamp/bulb, drainage: drain/sewer/water, other: default), determine severity (high: large/dangerous/blocking, medium: moderate/visible, low: small/minor), reverse geocode GPS coordinates to address using Nominatim API with User-Agent header "NagarNeuron/1.0", generate unique complaint_id like "CMPL-001", save to MongoDB with schema: {complaint_id: string, image_base64: string, category: string, severity: string, description: string, location: {address: string, gps: {lat: number, lng: number}}, status: string (default "Reported"), created_at: datetime, updated_at: datetime, status_history: array of {status: string, timestamp: datetime, notes: string}}, return complete complaint object
- GET /api/complaints: Query MongoDB complaints collection, accept optional query params category and status for filtering, sort by created_at descending, limit to 100 results, return array of complaint objects with all fields
- GET /api/complaints/{complaint_id}: Find single complaint by complaint_id, return 404 if not found, return full complaint object
- PUT /api/complaints/{complaint_id}/status: Accept JSON body {status: string, notes: string optional}, update complaint status field, append new entry to status_history array, update updated_at timestamp, return updated complaint object
- GET /api/stats: Aggregate MongoDB data to return {total_complaints: int, by_category: {pothole: int, garbage: int, ...}, by_status: {Reported: int, Assigned: int, ...}, recent_count: int (last 24 hours)}
- Use pymongo for MongoDB connection with connection string from MONGODB_URI environment variable, handle connection errors gracefully
- Include proper error handling with try/except blocks and appropriate HTTP status codes (400, 404, 500)
- Add request logging with print statements for debugging

File: backend/requirements.txt
fastapi==0.109.0
uvicorn[standard]==0.27.0
python-multipart==0.0.6
pillow==10.2.0
piexif==1.1.3
requests==2.31.0
pymongo==4.6.1
python-dotenv==1.0.0

File: backend/seed_data.py
Python script to populate MongoDB with 30 realistic sample complaints:
- Use pymongo to connect to MongoDB
- Create complaints with realistic data: categories distributed as 40% pothole, 25% garbage, 20% streetlight, 10% drainage, 5% other
- Status distribution: 55% Reported, 25% Assigned, 15% In Progress, 5% Resolved
- Real Bangalore locations with actual GPS coordinates: MG Road (12.9716, 77.6040), Indiranagar (12.9784, 77.6408), Koramangala (12.9352, 77.6245), Whitefield (12.9698, 77.7499), HSR Layout (12.9121, 77.6446), Jayanagar (12.9250, 77.5838), Electronic City (12.8456, 77.6603), Marathahalli (12.9591, 77.7011), Banashankari (12.9250, 77.5486), Yelahanka (13.1007, 77.5963)
- Generate AI-style descriptions: "Large pothole detected on MG Road near Trinity Metro Station, approximately 3.2 feet in diameter, blocking the right lane causing traffic diversion", "Overflowing garbage bin at Indiranagar 100 Feet Road junction, waste spilling onto sidewalk, attracting stray animals", "Non-functional streetlight on Koramangala 5th Block main road, creating safety hazard for pedestrians after 7 PM"
- Timestamps spread over last 10 days with realistic time distribution (more during daytime 8 AM - 8 PM)
- Include status_history with realistic progression timestamps

MOBILE APP (React Native Expo):

File: mobile/App.tsx
- Main app component with React Navigation stack navigator
- Create stack with screens: HomeScreen, UploadScreen, MapScreen, DetailScreen, StatsScreen
- Use @react-navigation/native and @react-navigation/stack
- Configure header with app title "NagarNeuron" and navigation buttons
- Set up StatusBar with dark content
- Apply consistent theme colors: primary blue #3b82f6, success green #10b981, warning orange #f59e0b, danger red #ef4444

File: mobile/screens/HomeScreen.tsx
- Main dashboard showing complaint list in FlatList
- Pull-to-refresh functionality to reload complaints
- Filter buttons at top for categories (All, Pothole, Garbage, Streetlight, Drainage, Other) using horizontal ScrollView
- Filter buttons for status (All, Reported, Assigned, In Progress, Resolved)
- Each complaint card component displaying: thumbnail image (80x80 rounded), category badge with colored background, severity indicator dot (red/orange/yellow), location text truncated to 2 lines, status badge, relative timestamp using date-fns ("2 hours ago", "3 days ago"), onPress to navigate to DetailScreen with complaint_id parameter
- Show loading spinner while fetching data
- Empty state with illustration icon and "No complaints found" text
- Stats summary cards at top showing: total complaints count, open issues count (Reported + Assigned + In Progress), resolved count
- Use React hooks (useState, useEffect) to manage state and fetch data from API
- API base URL from environment constant or hardcoded: http://YOUR_REPLIT_URL:8000
- Style with flexbox, padding, margins, shadows, rounded corners for modern mobile UI

File: mobile/screens/UploadScreen.tsx
- Upload new complaint screen with camera/gallery image picker
- Use expo-image-picker to access camera and photo library
- Request camera and media library permissions on mount
- Large "Take Photo" button with camera icon that opens camera with camera type back
- "Choose from Gallery" button that opens image picker
- Display selected image preview in 300x300 container with rounded corners
- Auto-extract GPS coordinates from image using expo-location getCurrentPositionAsync with accuracy high
- Display extracted location as "Latitude: X, Longitude: Y" in small text
- Optional text input for additional notes (placeholder: "Add any additional details...")
- Large primary "Submit Complaint" button that calls POST /api/upload-complaint endpoint
- Convert image to blob/form-data for upload
- Show loading overlay with spinner and "Processing..." text while uploading
- On success: show Alert with complaint ID and navigate back to HomeScreen
- On error: show Alert with error message
- Disable submit button while loading or if no image selected
- Style with consistent padding, button styling, input borders

File: mobile/screens/MapScreen.tsx
- Full-screen interactive map using react-native-maps
- Display all complaints as markers with custom colors based on category: red marker for pothole, green for garbage, yellow for streetlight, blue for drainage, gray for other
- Default map region centered on Bangalore (latitude: 12.9716, longitude: 77.5946, latitudeDelta: 0.1, longitudeDelta: 0.1)
- Marker callout/popup on press showing: small image thumbnail, category text, status badge, location address, "View Details" button that navigates to DetailScreen
- Fetch complaints on mount and map each to Marker component with correct coordinates
- Show loading indicator while fetching markers
- Add legend at bottom showing marker color meanings using colored dots and labels
- Use MapView from react-native-maps with provider PROVIDER_GOOGLE
- Handle map region changes and potential re-clustering for performance

File: mobile/screens/DetailScreen.tsx
- Full complaint detail view with ScrollView
- Receive complaint_id from navigation route params
- Fetch complaint details from GET /api/complaints/{id} on mount
- Display large image at top (full width, aspect ratio maintained, max height 400)
- Details section with cards/containers: Complaint ID in bold large text, Category badge with icon, Severity badge with colored dot, Status badge large and prominent, Location section with address text and GPS coordinates, AI-generated description in paragraph, Created timestamp formatted as "December 5, 2024 at 2:30 PM", Last updated timestamp
- Status history timeline with vertical line and dots showing each status change with timestamp and notes if any
- Admin controls section (no auth for MVP): Status picker/dropdown with options [Reported, Assigned, In Progress, Resolved], TextInput for notes (multiline, placeholder: "Add notes about this update..."), "Update Status" button that calls PUT endpoint, show success message after update
- Back button in header to return to previous screen
- Loading state while fetching initial data
- Error state if complaint not found
- Style with proper spacing, section dividers, card backgrounds

File: mobile/screens/StatsScreen.tsx
- Statistics dashboard screen
- Fetch stats from GET /api/stats endpoint
- Display large number cards: Total Complaints (big number with icon), Open Issues count with orange badge, Resolved Issues count with green badge, Today's Reports count
- Bar chart or simple visual representation of complaints by category using colored bars with percentages
- Bar chart of complaints by status
- Recent activity list showing last 5 complaints with small thumbnails
- Pull-to-refresh to reload stats
- Loading skeleton while fetching
- Style with card layout, proper spacing, icons from @expo/vector-icons

File: mobile/components/ComplaintCard.tsx
- Reusable component for displaying complaint in list
- Props: complaint object, onPress callback
- Horizontal layout with image on left (80x80, rounded, object cover)
- Right side contains: category badge at top, location text (2 lines max, ellipsis), status badge, timestamp at bottom in gray small text, severity dot indicator
- Touchable with press animation and shadow
- Export as default component

File: mobile/components/StatusBadge.tsx
- Props: status string
- Return View with badge styling: rounded pill shape, padding horizontal 12 vertical 4, text uppercase, bold
- Colors: Reported: yellow background #fef3c7 with yellow text #92400e, Assigned: blue background #dbeafe with blue text #1e40af, In Progress: orange background #fed7aa with orange text #9a3412, Resolved: green background #d1fae5 with green text #065f46
- Export as default component

File: mobile/components/CategoryBadge.tsx
- Props: category string
- Return View with icon and text
- Icons from @expo/vector-icons MaterialIcons: pothole = "report-problem", garbage = "delete", streetlight = "lightbulb", drainage = "water-damage", other = "help-outline"
- Colored backgrounds matching category theme
- Export as default component

File: mobile/utils/api.ts
- API utility functions using fetch
- Constant API_BASE_URL pointing to backend (get from environment or hardcode)
- async function uploadComplaint(imageUri, location): convert image to blob, create FormData, append image file, call POST /api/upload-complaint, return response data
- async function getComplaints(filters?): call GET with query params, return complaints array
- async function getComplaintById(id): call GET for single complaint, return complaint object
- async function updateComplaintStatus(id, status, notes): call PUT with JSON body, return updated complaint
- async function getStats(): call GET /api/stats, return stats object
- All functions with try/catch error handling and throw descriptive errors
- Export all functions

File: mobile/package.json
{
  "name": "nagar-neuron-mobile",
  "version": "1.0.0",
  "main": "node_modules/expo/AppEntry.js",
  "scripts": {
    "start": "expo start",
    "android": "expo start --android",
    "ios": "expo start --ios"
  },
  "dependencies": {
    "expo": "~50.0.0",
    "react": "18.2.0",
    "react-native": "0.73.0",
    "@react-navigation/native": "^6.1.9",
    "@react-navigation/stack": "^6.3.20",
    "react-native-screens": "~3.29.0",
    "react-native-safe-area-context": "4.8.2",
    "react-native-gesture-handler": "~2.14.0",
    "expo-image-picker": "~14.7.1",
    "expo-location": "~16.5.1",
    "expo-camera": "~14.0.0",
    "react-native-maps": "1.10.0",
    "@expo/vector-icons": "^14.0.0",
    "date-fns": "^3.0.0"
  },
  "devDependencies": {
    "@babel/core": "^7.20.0",
    "@types/react": "~18.2.45",
    "typescript": "^5.1.3"
  }
}

File: mobile/app.json
{
  "expo": {
    "name": "NagarNeuron",
    "slug": "nagar-neuron",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "userInterfaceStyle": "light",
    "splash": {
      "image": "./assets/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#3b82f6"
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#3b82f6"
      },
      "permissions": ["CAMERA", "ACCESS_FINE_LOCATION", "READ_EXTERNAL_STORAGE"],
      "package": "com.nagarneuron.app"
    },
    "plugins": [
      [
        "expo-image-picker",
        {
          "photosPermission": "Allow NagarNeuron to access your photos to report civic issues"
        }
      ],
      [
        "expo-location",
        {
          "locationAlwaysAndWhenInUsePermission": "Allow NagarNeuron to use your location to pinpoint civic issues"
        }
      ]
    ]
  }
}

ROOT CONFIGURATION FILES:

File: .replit
run = "bash start.sh"
language = "nodejs"

[nix]
channel = "stable-23_11"

[deployment]
run = ["bash", "start.sh"]

File: start.sh
#!/bin/bash
echo "Starting NagarNeuron Backend..."
cd backend
pip install -r requirements.txt > /dev/null 2>&1
uvicorn main:app --host 0.0.0.0 --port 8000 &
BACKEND_PID=$!
echo "Backend started on port 8000 (PID: $BACKEND_PID)"

echo ""
echo "Starting NagarNeuron Mobile App..."
cd ../mobile
npm install > /dev/null 2>&1
echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  NagarNeuron Mobile App Ready!                             â•‘"
echo "â•‘                                                            â•‘"
echo "â•‘  1. Download Expo Go app on your Android phone            â•‘"
echo "â•‘  2. Run: cd mobile && npx expo start                      â•‘"
echo "â•‘  3. Scan the QR code with Expo Go app                     â•‘"
echo "â•‘                                                            â•‘"
echo "â•‘  Backend API running at: http://0.0.0.0:8000              â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Keep script running
wait $BACKEND_PID

File: README.md
# NagarNeuron - AI-Powered Civic Complaint Mobile App

## ğŸ¯ 40% MVP Features (Hackathon Demo)
âœ… Photo capture with camera/gallery
âœ… AI-powered complaint classification (5 categories)
âœ… GPS extraction and reverse geocoding
âœ… Dashboard with filters and search
âœ… Interactive map with complaint markers
âœ… Detailed complaint view
âœ… Status update workflow
âœ… Statistics dashboard

## ğŸš€ Quick Start

### Prerequisites
- Replit account
- Android phone with Expo Go app installed
- MongoDB Atlas account (free tier)
- Hugging Face account (free)

### Step 1: Environment Setup
1. Click Secrets (ğŸ”’) in Replit sidebar
2. Add two secrets:
   - `HF_TOKEN`: Get from https://huggingface.co/settings/tokens
   - `MONGODB_URI`: Get from https://mongodb.com/cloud/atlas

### Step 2: MongoDB Atlas Setup (5 mins)
1. Go to mongodb.com/cloud/atlas â†’ Create free cluster
2. Click "Connect" â†’ Choose "Connect your application"
3. Copy connection string
4. Replace `<password>` with your password
5. Replace `<dbname>` with `nagar_neuron`
6. Whitelist IP: 0.0.0.0/0 (Network Access â†’ Add IP Address)
7. Paste connection string into MONGODB_URI secret

Example: `mongodb+srv://user:pass@cluster.mongodb.net/nagar_neuron`

### Step 3: Hugging Face Token (2 mins)
1. Go to huggingface.co â†’ Sign up
2. Settings â†’ Access Tokens â†’ New Token
3. Copy token â†’ Paste into HF_TOKEN secret

### Step 4: Seed Sample Data
```bash